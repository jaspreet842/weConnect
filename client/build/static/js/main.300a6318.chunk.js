(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},63:function(e,t,c){},69:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c.n(n),a=c(28),i=c.n(a),r=(c(56),c(18)),o=(c(57),c(58),c(108)),j=c(90),l=c(91),d=c(92),u=c(3),b=Object(n.createContext)(),h=function(e){var t=e.reducer,c=e.initialState,s=e.children;return Object(u.jsx)(b.Provider,{value:Object(n.useReducer)(t,c),children:s})},O=function(){return Object(n.useContext)(b)};var m=function(){var e=O(),t=Object(r.a)(e,1)[0].user;return Object(u.jsxs)("div",{className:"header",children:[Object(u.jsxs)("div",{className:"headerLeft",children:[Object(u.jsx)(o.a,{classname:"headerAvatar",alt:null===t||void 0===t?void 0:t.displayname,src:null===t||void 0===t?void 0:t.photoURL}),Object(u.jsx)(j.a,{})]}),Object(u.jsxs)("div",{className:"headerSearch",children:[Object(u.jsx)(l.a,{}),Object(u.jsx)("input",{placeholder:"Search weConnect"})]}),Object(u.jsx)("div",{className:"headerRight",children:Object(u.jsx)(d.a,{})})]})},x=(c(63),c(11)),p=c(30),v=p.a.initializeApp({apiKey:"AIzaSyAp2WFAHvt8X19G1bWCSCyF5xVLpnSFGwg",authDomain:"weconnect-3e629.firebaseapp.com",databaseURL:"https://weconnect-3e629-default-rtdb.firebaseio.com",projectId:"weconnect-3e629",storageBucket:"weconnect-3e629.appspot.com",messagingSenderId:"308864511172",appId:"1:308864511172:web:fd6ce527126581e208ad91",measurementId:"G-S5LTQ5KC5L"}).firestore(),f=p.a.auth(),g=new p.a.auth.GoogleAuthProvider,I=v;c(69);var N=function(e){var t=e.Icon,c=e.title,n=e.id,s=e.addChannelOption,a=Object(x.f)();return Object(u.jsxs)("div",{className:"sidebarOption",onClick:s?function(){var e=prompt("Please enter the channel name");e&&I.collection("rooms").add({name:e})}:function(){n?a.push("/room/".concat(n)):a.push("title")},children:[t&&Object(u.jsx)(t,{className:"sidebarOptionIcon"}),t?Object(u.jsx)("h3",{children:c}):Object(u.jsxs)("h3",{className:"sidebarOptionChannel",children:[Object(u.jsx)("span",{className:"sidebarOptionHash",children:"#"}),c]})]})},S=c(93),C=c(94),w=c(95),y=c(96),L=c(97),A=c(98),F=c(99),H=c(100),P=c(101),R=c(102),T=c(103),D=c(104);var k=function(){var e=O(),t=Object(r.a)(e,1)[0].user,c=Object(n.useState)([]),s=Object(r.a)(c,2),a=s[0],i=s[1];return Object(n.useEffect)((function(){I.collection("rooms").onSnapshot((function(e){return i(e.docs.map((function(e){return{id:e.id,name:e.data().name}})))}))}),[]),Object(u.jsxs)("div",{className:"sidebar",children:[Object(u.jsxs)("div",{className:"sidebarHeader",children:[Object(u.jsxs)("div",{className:"sidebarInfo",children:[Object(u.jsx)("h2",{children:"WeConnect"}),Object(u.jsxs)("h3",{children:[Object(u.jsx)(S.a,{}),null===t||void 0===t?void 0:t.displayName]})]}),Object(u.jsx)(C.a,{})]}),Object(u.jsx)(N,{Icon:w.a,title:"Threads"}),Object(u.jsx)(N,{Icon:y.a,title:"Mentions & reactions"}),Object(u.jsx)(N,{Icon:L.a,title:"Saved Items"}),Object(u.jsx)(N,{Icon:A.a,title:"Channel browser"}),Object(u.jsx)(N,{Icon:F.a,title:"People & user groups"}),Object(u.jsx)(N,{Icon:H.a,title:"Apps"}),Object(u.jsx)(N,{Icon:P.a,title:"File browser"}),Object(u.jsx)(N,{Icon:R.a,title:"Show less"}),Object(u.jsx)("hr",{}),Object(u.jsx)(N,{Icon:T.a,title:"Channels"}),Object(u.jsx)("hr",{}),Object(u.jsx)(N,{Icon:D.a,addChannelOption:!0,title:"Add Channel"}),a.map((function(e){return Object(u.jsx)(N,{title:e.name,id:e.id})}))]})},B=(c(71),c(105)),E=c(106);c(72);var G=function(e){var t=e.message,c=e.timeStamp,n=e.user,s=e.userImage;return Object(u.jsxs)("div",{className:"message",children:[Object(u.jsx)("img",{src:s,alt:"Profile"}),Object(u.jsxs)("div",{className:"messageInfo",children:[Object(u.jsxs)("h4",{children:[n,Object(u.jsx)("span",{className:"messageTimeStamp",children:new Date(null===c||void 0===c?void 0:c.toDate()).toUTCString()})]}),Object(u.jsx)("p",{children:t})]})]})};c(73);var U=function(e){var t=e.channelName,c=e.channelId,s=Object(n.useState)(""),a=Object(r.a)(s,2),i=a[0],o=a[1],j=O(),l=Object(r.a)(j,1)[0].user;return Object(u.jsx)("div",{className:"chatInput",children:Object(u.jsxs)("form",{children:[Object(u.jsx)("input",{value:i,onChange:function(e){return o(e.target.value)},placeholder:"Message #".concat(null===t||void 0===t?void 0:t.toLowerCase())}),Object(u.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),c&&I.collection("rooms").doc(c).collection("messages").add({message:i,timestamp:p.a.firestore.FieldValue.serverTimestamp(),user:l.displayName,userImage:l.photoURL}),o("")},children:"SEND"})]})})};var M=function(){var e=Object(x.g)().roomId,t=Object(n.useState)(null),c=Object(r.a)(t,2),s=c[0],a=c[1],i=Object(n.useState)([]),o=Object(r.a)(i,2),j=o[0],l=o[1];return Object(n.useEffect)((function(){e&&I.collection("rooms").doc(e).onSnapshot((function(e){return a(e.data())})),I.collection("rooms").doc(e).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return l(e.docs.map((function(e){return e.data()})))}))}),[e]),Object(u.jsxs)("div",{className:"chat",children:[Object(u.jsxs)("div",{className:"chatHeader",children:[Object(u.jsx)("div",{className:"chatHeaderLeft",children:Object(u.jsxs)("h4",{className:"chatChannelName",children:[Object(u.jsxs)("strong",{children:["#",null===s||void 0===s?void 0:s.name]}),Object(u.jsx)(B.a,{})]})}),Object(u.jsx)("div",{className:"chatHeaderRight",children:Object(u.jsxs)("p",{children:[Object(u.jsx)(E.a,{}),"Details"]})})]}),Object(u.jsx)("div",{className:"chatMessages",children:j.map((function(e){var t=e.message,c=e.timestamp,n=e.user,s=e.userImage;return Object(u.jsx)(G,{message:t,timeStamp:c,user:n,userImage:s})}))}),Object(u.jsx)(U,{channelName:null===s||void 0===s?void 0:s.name,channelId:e})]})},W=c(34),q=c(107),K=(c(74),c(41)),z="SET_USER",J=function(e,t){switch(t.type){case z:return Object(K.a)(Object(K.a)({},e),{},{user:t.user});default:return e}};var V=function(){var e=O(),t=Object(r.a)(e,2),c=(t[0],t[1]);return Object(u.jsx)("div",{className:"login",children:Object(u.jsxs)("div",{className:"loginContainer",children:[Object(u.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSe5grOHHHCKNR15MLoms5LIbhrgdB2rq6IOw&usqp=CAU",alt:""}),Object(u.jsx)("h1",{children:"Sign in to weConnect"}),Object(u.jsx)("p",{children:"weConnect.com"}),Object(u.jsx)(q.a,{onClick:function(e){f.signInWithPopup(g).then((function(e){c({type:z,user:e.user})})).catch((function(e){alert(e.message)}))},children:"Sign In with Google"})]})})};var Q=function(){var e=O(),t=Object(r.a)(e,2),c=t[0].user;return t[1],Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(W.a,{children:c?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(m,{}),Object(u.jsxs)("div",{className:"appBody",children:[Object(u.jsx)(k,{}),Object(u.jsxs)(x.c,{children:[Object(u.jsx)(x.a,{path:"/room/:roomId",children:Object(u.jsx)(M,{})}),Object(u.jsx)(x.a,{path:"/",children:Object(u.jsx)("h1",{children:"Welcome"})})]})]})]}):Object(u.jsx)(V,{})})})},X=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,109)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))};i.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(h,{initialState:{user:null},reducer:J,children:Object(u.jsx)(Q,{})})}),document.getElementById("root")),X()}},[[75,1,2]]]);
//# sourceMappingURL=main.300a6318.chunk.js.map